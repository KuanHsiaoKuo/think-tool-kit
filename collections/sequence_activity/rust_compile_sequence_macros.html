<!DOCTYPE HTML>
<html lang="cn" class="sidebar-visible no-js rust">
<head>
    <!-- Book generated using mdBook -->
    <meta charset="UTF-8">
    <title>编译过程与宏展开 - Think Tool Kit 🧰</title>


    <!-- Custom HTML head -->
    
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta name="description" content="保持批判，有所取舍，方见真我">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff"/>

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
    <link rel="stylesheet" href="../../css/variables.css">
    <link rel="stylesheet" href="../../css/general.css">
    <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

    <!-- Fonts -->
    <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

    <!-- Highlight.js Stylesheets -->
    <link rel="stylesheet" href="../../highlight.css">
    <link rel="stylesheet" href="../../tomorrow-night.css">
    <link rel="stylesheet" href="../../ayu-highlight.css">

    <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../assets/pagetoc/pagetoc_style.css">
        <link rel="stylesheet" href="../../assets/css/mdbook-admonish.css">

        <!-- MathJax -->
        <script async type="text/javascript"
                src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
<!-- Provide site root to javascript -->
<script type="text/javascript">
    var path_to_root = "../../";
    var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
</script>
<!--引入mermaid-->
<!--<script type="text/javascript" src="../../mermaid.min.js">-->
<!--</script>-->
<!--<script type="text/javascript" src="../../mermaid-init.js">-->
<!--</script>-->
<!-- Work around some values being stored in localStorage wrapped in quotes -->
<script type="text/javascript">
    try {
        var theme = localStorage.getItem('mdbook-theme');
        var sidebar = localStorage.getItem('mdbook-sidebar');

        if (theme.startsWith('"') && theme.endsWith('"')) {
            localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
        }

        if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
            localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
        }
    } catch (e) {
    }
</script>

<!-- Set the theme before any content is loaded, prevents flash -->
<script type="text/javascript">
    var theme;
    try {
        theme = localStorage.getItem('mdbook-theme');
    } catch (e) {
    }
    if (theme === null || theme === undefined) {
        theme = default_theme;
    }
    var html = document.querySelector('html');
    html.classList.remove('no-js')
    html.classList.remove('rust')
    html.classList.add(theme);
    html.classList.add('js');
</script>

<!-- Hide / unhide sidebar before it is displayed -->
<script type="text/javascript">
    var html = document.querySelector('html');
    var sidebar = 'hidden';
    if (document.body.clientWidth >= 1080) {
        try {
            sidebar = localStorage.getItem('mdbook-sidebar');
        } catch (e) {
        }
        sidebar = sidebar || 'visible';
    }
    html.classList.remove('sidebar-visible');
    html.classList.add("sidebar-" + sidebar);
</script>

<nav id="sidebar" class="sidebar" aria-label="Table of contents">
    <div class="sidebar-scrollbox">
        <ol class="chapter"><li class="chapter-item expanded "><a href="../../../index.html"><strong aria-hidden="true">1.</strong> 总览</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../collections/collections.html"><strong aria-hidden="true">1.1.</strong> 精选综合示例</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../collections/pages/rust-tree-embed-local.html"><strong aria-hidden="true">1.1.1.</strong> rust思维导图</a></li><li class="chapter-item "><a href="../../collections/pages/rust-radial-embed-local.html"><strong aria-hidden="true">1.1.2.</strong> rust雷达图</a></li><li class="chapter-item "><a href="../../collections/pages/rust-tree-embed-local.html"><strong aria-hidden="true">1.1.3.</strong> rust核心内容</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../collections/pages/rust/core/rust-memory-management.html"><strong aria-hidden="true">1.1.3.1.</strong> 内存管理</a></li><li class="chapter-item "><a href="../../collections/pages/rust/core/rust-type-system.html"><strong aria-hidden="true">1.1.3.2.</strong> 类型系统</a></li><li class="chapter-item "><a href="../../collections/pages/rust/core/rust-data-structures.html"><strong aria-hidden="true">1.1.3.3.</strong> 数据结构</a></li><li class="chapter-item "><a href="../../collections/pages/rust/core/rust-control-flow.html"><strong aria-hidden="true">1.1.3.4.</strong> 控制流</a></li><li class="chapter-item "><a href="../../collections/pages/rust/core/rust-function-closure-iterator.html"><strong aria-hidden="true">1.1.3.5.</strong> 函数、闭包和迭代器</a></li><li class="chapter-item "><a href="../../collections/pages/rust/core/rust-code-management.html"><strong aria-hidden="true">1.1.3.6.</strong> 模块化代码组织</a></li></ol></li><li class="chapter-item "><a href="../../collections/pages/rust-tree-embed-local.html"><strong aria-hidden="true">1.1.4.</strong> rust话题</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../collections/pages/rust/topics/rust-design-patterns.html"><strong aria-hidden="true">1.1.4.1.</strong> rust设计模式</a></li><li class="chapter-item "><a href="../../collections/pages/rust/topics/rust-concurrency-async.html"><strong aria-hidden="true">1.1.4.2.</strong> rust并发异步</a></li><li class="chapter-item "><a href="../../collections/pages/rust/topics/rust-networks.html"><strong aria-hidden="true">1.1.4.3.</strong> rust网络编程</a></li><li class="chapter-item "><a href="../../collections/pages/rust/topics/rust-error-handling.html"><strong aria-hidden="true">1.1.4.4.</strong> rust错误处理</a></li></ol></li><li class="chapter-item expanded "><a href="../../collections/sequence_activity/rust_sequence_activity.html"><strong aria-hidden="true">1.1.5.</strong> rust核心流程图</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../collections/sequence_activity/async_cores.html"><strong aria-hidden="true">1.1.5.1.</strong> 异步核心</a></li><li class="chapter-item expanded "><a href="../../collections/sequence_activity/rust_compile_sequence_macros.html" class="active"><strong aria-hidden="true">1.1.5.2.</strong> 编译过程与宏展开</a></li></ol></li><li class="chapter-item "><a href="../../collections/pages/rust/ddd/ddd.html"><strong aria-hidden="true">1.1.6.</strong> 领域驱动</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../collections/pages/rust/ddd/high_performance_computing/high_performance_computing.html"><strong aria-hidden="true">1.1.6.1.</strong> 高性能计算</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../collections/pages/rust/ddd/high_performance_computing/rust-quantitative-trading.html"><strong aria-hidden="true">1.1.6.1.1.</strong> 量化交易</a></li></ol></li><li class="chapter-item "><a href="../../collections/pages/rust/ddd/web3/web3.html"><strong aria-hidden="true">1.1.6.2.</strong> web3</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../collections/pages/rust/ddd/web3/rust-web3-galaxy.html"><strong aria-hidden="true">1.1.6.2.1.</strong> 层次一览</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../layer1_visual_tools/visual_tools.html"><strong aria-hidden="true">1.2.</strong> Layer1: 可视化工具</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../layer1_visual_tools/map_tools/map-tools.html"><strong aria-hidden="true">1.2.1.</strong> 1. 二维展开</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../layer1_visual_tools/map_tools/kroki_collection.html"><strong aria-hidden="true">1.2.1.1.</strong> kroki合集</a></li><li class="chapter-item "><a href="../../layer1_visual_tools/map_tools/vega-deepin.html"><strong aria-hidden="true">1.2.1.2.</strong> vega: 大数据可视化工具</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../layer1_visual_tools/map_tools/vega/vega-examples.html"><strong aria-hidden="true">1.2.1.2.1.</strong> 示例</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../layer1_visual_tools/map_tools/vega-embed.html"><strong aria-hidden="true">1.2.1.2.1.1.</strong> radial tree online</a></li><li class="chapter-item "><a href="../../layer1_visual_tools/map_tools/vega-radial-tree-embed-local.html"><strong aria-hidden="true">1.2.1.2.1.2.</strong> radial tree local</a></li><li class="chapter-item "><a href="../../layer1_visual_tools/map_tools/vega-tree-embed-local.html"><strong aria-hidden="true">1.2.1.2.1.3.</strong> tree local</a></li><li class="chapter-item "><a href="../../layer1_visual_tools/map_tools/vega-tree-map-embed-local.html"><strong aria-hidden="true">1.2.1.2.1.4.</strong> tree map local</a></li><li class="chapter-item "><a href="../../layer1_visual_tools/map_tools/vega-circle-packing-embed-local.html"><strong aria-hidden="true">1.2.1.2.1.5.</strong> circle packing local</a></li><li class="chapter-item "><a href="../../layer1_visual_tools/map_tools/vega-packed-bubble-chart-embed-local.html"><strong aria-hidden="true">1.2.1.2.1.6.</strong> packed bubble chart local</a></li><li class="chapter-item "><a href="../../layer1_visual_tools/map_tools/vega-sun-burst-embed-local.html"><strong aria-hidden="true">1.2.1.2.1.7.</strong> sun burst local</a></li><li class="chapter-item "><a href="../../layer1_visual_tools/map_tools/vega-word-cloud-embed-local.html"><strong aria-hidden="true">1.2.1.2.1.8.</strong> word cloud local</a></li><li class="chapter-item "><a href="../../layer1_visual_tools/map_tools/vega-view.html"><strong aria-hidden="true">1.2.1.2.1.9.</strong> vega view组件使用</a></li><li class="chapter-item "><a href="../../layer1_visual_tools/map_tools/vega-puml-test.html"><strong aria-hidden="true">1.2.1.2.1.10.</strong> plantuml mindmap转化效果</a></li><li class="chapter-item "><a href="../../layer1_visual_tools/map_tools/vega-force-directed-embed-local.html"><strong aria-hidden="true">1.2.1.2.1.11.</strong> vega force directed layout</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../layer1_visual_tools/map_tools/mermaid.html"><strong aria-hidden="true">1.2.1.3.</strong> mermaid</a></li><li class="chapter-item "><a href="../../layer1_visual_tools/map_tools/plantuml-deepin.html"><strong aria-hidden="true">1.2.1.4.</strong> plantuml</a></li></ol></li><li class="chapter-item "><a href="../../layer1_visual_tools/Drafts/drafts.html"><strong aria-hidden="true">1.2.2.</strong> 2. Drafts</a></li><li class="chapter-item "><a href="../../layer1_visual_tools/Notes/notes.html"><strong aria-hidden="true">1.2.3.</strong> 3. Notes</a></li></ol></li><li class="chapter-item expanded "><a href="../../layer2_thinking_concepts/thinking_concepts.html"><strong aria-hidden="true">1.3.</strong> Layer2: 思维理念</a></li><li class="chapter-item expanded "><a href="../../layer3_thinking_models/thinking_models.html"><strong aria-hidden="true">1.4.</strong> Layer3: 思维模型</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../layer3_thinking_models/wh_models/wh_models.html"><strong aria-hidden="true">1.4.1.</strong> 5W2H</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../layer3_thinking_models/wh_models/source_code_2w1h.html"><strong aria-hidden="true">1.4.1.1.</strong> 2W1H阅读源码模型</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../layer4_thinking_system/thinking_system.html"><strong aria-hidden="true">1.5.</strong> Layer4: 思维体系</a></li><li class="chapter-item expanded "><a href="../../layer5_peek_practice/peek_practice.html"><strong aria-hidden="true">1.6.</strong> Layer5: 巅峰练习</a></li><li class="chapter-item expanded "><a href="../../Resources/resources.html"><strong aria-hidden="true">1.7.</strong> 相关资源</a></li></ol></li><li class="chapter-item expanded "><a href="../../checklist.html">Checklist</a></li></ol>
    </div>
    <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
</nav>

<div id="page-wrapper" class="page-wrapper">

    <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
        <div id="menu-bar" class="menu-bar sticky bordered">
            <div class="left-buttons">
                <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents"
                        aria-label="Toggle Table of Contents" aria-controls="sidebar">
                    <i class="fa fa-bars"></i>
                </button>
                <button id="theme-toggle" class="icon-button" type="button" title="Change theme"
                        aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                    <i class="fa fa-paint-brush"></i>
                </button>
                <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                    <li role="none">
                        <button role="menuitem" class="theme" id="light">Light</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="rust">Rust (default)</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="coal">Coal</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="navy">Navy</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="ayu">Ayu</button>
                    </li>
                </ul>
                    <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)"
                            aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S"
                            aria-controls="searchbar">
                        <i class="fa fa-search"></i>
                    </button>
            </div>

            <h1 class="menu-title">Think Tool Kit 🧰</h1>
            <h4 class="menu-bar"> 保持批判，有所取舍，知行合一, 方见真我 -- 练武不练功 到头一场空 -- 《赛博英雄传》 </h4>
            <div class="right-buttons">
                    <a href="../../print.html" title="Print this book" aria-label="Print this book">
                        <i id="print-button" class="fa fa-print"></i>
                    </a>
                    <a href="git@github.com:KuanHsiaoKuo/Python-Cooker.git" title="Git repository" aria-label="Git repository">
                        <i id="git-repository-button" class="fa fa-rust"></i>
                    </a>
            </div>
        </div>

            <div id="search-wrapper" class="hidden">
                <form id="searchbar-outer" class="searchbar-outer">
                    <input type="search" name="search" id="searchbar" name="searchbar"
                           placeholder="Search this book ..." aria-controls="searchresults-outer"
                           aria-describedby="searchresults-header">
                </form>
                <div id="searchresults-outer" class="searchresults-outer hidden">
                    <div id="searchresults-header" class="searchresults-header"></div>
                    <ul id="searchresults">
                    </ul>
                </div>
            </div>

        <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
        <script type="text/javascript">
            document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
            document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
            Array.from(document.querySelectorAll('#sidebar a')).forEach(function (link) {
                link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
            });
        </script>

        <div id="content" class="content">
            <main>

                <!-- Page table of contents -->
                <div class="sidetoc">
                    <nav class="pagetoc"></nav>
                </div>
                <style>.extended-markdown-table {
    display: grid;
}

.extended-markdown-table > div {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 3px 20px;
    border-bottom: 1px solid var(--table-border-color);
    border-right: 1px solid var(--table-border-color);
}

.extended-markdown-table > div.extended-markdown-left-border {
    border-left: 1px solid var(--table-border-color);
}

.extended-markdown-table > div.extended-markdown-header {
    text-align: center;
    background: var(--table-header-bg);
    border-bottom: 1px solid var(--table-header-bg);
    border-right: 1px solid var(--table-header-bg);
    font-weight: bold;
}

.extended-markdown-table > div.extended-markdown-header.extended-markdown-left-border {
    border-left: 1px solid var(--table-header-bg);
}
</style>
<h1 id="rust代码编译过程与宏展开过程"><a class="header" href="#rust代码编译过程与宏展开过程">rust代码编译过程与宏展开过程</a></h1>
<h2 id="rust代码编译过程"><a class="header" href="#rust代码编译过程">rust代码编译过程</a></h2>
<details id="admonition-编译过程泳道图" class="admonition note">
<summary class="admonition-title">
<p>编译过程泳道图</p>
<p><a class="admonition-anchor-link" href="#admonition-编译过程泳道图"></a></p>
</summary>
<div>
<figure><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1030px" preserveAspectRatio="none" style="width:1856px;height:1030px;background:#FFFFFF;" version="1.1" viewBox="0 0 1856 1030" width="1856px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="20.9531" style="stroke:none;stroke-width:1.0;" width="1823" x="15" y="12.7451"/><ellipse cx="171.5" cy="48.6982" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="152" x="95.5" y="78.6982"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="132" x="105.5" y="99.8369">&#23558;&#28304;&#20195;&#30721;&#20256;&#36882;&#32473;&#39044;&#22788;&#29702;&#22120;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="210" x="66.5" y="132.667"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="190" x="76.5" y="153.8057">&#23558; \$crate &#36716;&#25442;&#25104;&#23454;&#38469; crate &#21517;&#31216;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="301" x="21" y="186.6357"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="281" x="31" y="207.7744">&#23637;&#24320;&#25152;&#26377;&#23439;&#23450;&#20041;&#65292;&#21253;&#25324;&#36890;&#36807; include &#25351;&#20196;&#28155;&#21152;&#30340;&#25991;&#20214;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="212" x="65.5" y="240.6045"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="192" x="75.5" y="261.7432">&#23558;&#39044;&#22788;&#29702;&#36807;&#30340;&#20195;&#30721;&#21457;&#36865;&#32473;&#19979;&#19968;&#20010;&#27493;&#39588;</text><line style="stroke:#000000;stroke-width:1.5;" x1="15" x2="15" y1="12.7451" y2="1018.167"/><rect fill="#FAEBD7" height="1005.4219" style="stroke:#FAEBD7;stroke-width:1.0;" width="218" x="326" y="12.7451"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="208" x="332" y="294.5732"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="188" x="342" y="315.7119">&#23558;&#39044;&#22788;&#29702;&#36807;&#30340;&#20195;&#30721;&#20998;&#35299;&#25104; token &#20018;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="372" y="348.542"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="108" x="382" y="369.6807">&#23558;&#20195;&#30721;&#20013;&#30340;&#27880;&#37322;&#21024;&#38500;</text><line style="stroke:#000000;stroke-width:1.5;" x1="326" x2="326" y1="12.7451" y2="1018.167"/><rect fill="#F0F8FF" height="1005.4219" style="stroke:#F0F8FF;stroke-width:1.0;" width="233" x="544" y="12.7451"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="223" x="550" y="402.5107"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="203" x="560" y="423.6494">&#23558; token &#32452;&#35013;&#25104; AST&#65288;&#25277;&#35937;&#35821;&#27861;&#26641;&#65289;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="212" x="555.5" y="456.4795"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="192" x="565.5" y="477.6182">&#26816;&#26597;&#20195;&#30721;&#26159;&#21542;&#31526;&#21512; Rust &#30340;&#35821;&#27861;&#35268;&#33539;</text><line style="stroke:#000000;stroke-width:1.5;" x1="544" x2="544" y1="12.7451" y2="1018.167"/><rect fill="#F5F5DC" height="1005.4219" style="stroke:#F5F5DC;stroke-width:1.0;" width="315" x="777" y="12.7451"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="219" x="826" y="510.4482"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="199" x="836" y="531.5869">&#26816;&#26597; AST &#26159;&#21542;&#31526;&#21512; Rust &#30340;&#35821;&#20041;&#35268;&#33539;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="305" x="783" y="564.417"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="285" x="793" y="585.5557">&#36827;&#34892; borrow checker &#26816;&#26597;&#65292;&#30830;&#20445;&#27809;&#26377;&#20869;&#23384;&#23433;&#20840;&#38382;&#39064;</text><line style="stroke:#000000;stroke-width:1.5;" x1="777" x2="777" y1="12.7451" y2="1018.167"/><rect fill="#FFF8DC" height="1005.4219" style="stroke:#FFF8DC;stroke-width:1.0;" width="312" x="1092" y="12.7451"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="159" x="1169.5" y="618.3857"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="139" x="1179.5" y="639.5244">&#23558; AST &#20256;&#36882;&#32473;&#20195;&#30721;&#20248;&#21270;&#22120;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="302" x="1098" y="672.3545"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="282" x="1108" y="693.4932">&#26500;&#24314;&#20013;&#38388;&#20195;&#30721; IR&#65288;intermediate representation)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="154" x="1172" y="726.3232"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="134" x="1182" y="747.4619">&#21033;&#29992; LLVM &#36827;&#34892;&#39640;&#25928;&#20248;&#21270;</text><line style="stroke:#000000;stroke-width:1.5;" x1="1092" x2="1092" y1="12.7451" y2="1018.167"/><rect fill="#DCDCDC" height="1005.4219" style="stroke:#DCDCDC;stroke-width:1.0;" width="210" x="1404" y="12.7451"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="135" x="1442.5" y="780.292"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="115" x="1452.5" y="801.4307">&#23558; IR &#32763;&#35793;&#25104;&#27719;&#32534;&#20195;&#30721;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="200" x="1410" y="834.2607"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="180" x="1420" y="855.3994">&#22312;&#23439;&#23637;&#24320;&#20013;&#23545;&#20110;&#28041;&#21450;&#39033;&#30340;&#31867;&#22411;&#25512;&#26029;</text><line style="stroke:#000000;stroke-width:1.5;" x1="1404" x2="1404" y1="12.7451" y2="1018.167"/><rect fill="#D3D3D3" height="1005.4219" style="stroke:#D3D3D3;stroke-width:1.0;" width="222" x="1614" y="12.7451"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="188" x="1632" y="888.2295"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="168" x="1642" y="909.3682">&#23558;&#27719;&#32534;&#20195;&#30721;&#36716;&#25104;&#20855;&#20307;&#30340;&#26426;&#22120;&#20195;&#30721;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="212" x="1620" y="942.1982"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="192" x="1630" y="963.3369">&#29983;&#25104;&#21487;&#25191;&#34892;&#20108;&#36827;&#21046;&#25991;&#20214;&#25110;&#21160;&#24577;&#38142;&#25509;&#24211;</text><ellipse cx="1726" cy="1007.167" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;"/><ellipse cx="1726" cy="1007.167" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1614" x2="1614" y1="12.7451" y2="1018.167"/><line style="stroke:#000000;stroke-width:1.5;" x1="1836" x2="1836" y1="12.7451" y2="1018.167"/><line style="stroke:#181818;stroke-width:1.0;" x1="171.5" x2="171.5" y1="58.6982" y2="78.6982"/><polygon fill="#181818" points="167.5,68.6982,171.5,78.6982,175.5,68.6982,171.5,72.6982" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="171.5" x2="171.5" y1="112.667" y2="132.667"/><polygon fill="#181818" points="167.5,122.667,171.5,132.667,175.5,122.667,171.5,126.667" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="171.5" x2="171.5" y1="166.6357" y2="186.6357"/><polygon fill="#181818" points="167.5,176.6357,171.5,186.6357,175.5,176.6357,171.5,180.6357" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="171.5" x2="171.5" y1="220.6045" y2="240.6045"/><polygon fill="#181818" points="167.5,230.6045,171.5,240.6045,175.5,230.6045,171.5,234.6045" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="436" x2="436" y1="328.542" y2="348.542"/><polygon fill="#181818" points="432,338.542,436,348.542,440,338.542,436,342.542" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="661.5" x2="661.5" y1="436.4795" y2="456.4795"/><polygon fill="#181818" points="657.5,446.4795,661.5,456.4795,665.5,446.4795,661.5,450.4795" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="935.5" x2="935.5" y1="544.417" y2="564.417"/><polygon fill="#181818" points="931.5,554.417,935.5,564.417,939.5,554.417,935.5,558.417" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1249" x2="1249" y1="652.3545" y2="672.3545"/><polygon fill="#181818" points="1245,662.3545,1249,672.3545,1253,662.3545,1249,666.3545" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1249" x2="1249" y1="706.3232" y2="726.3232"/><polygon fill="#181818" points="1245,716.3232,1249,726.3232,1253,716.3232,1249,720.3232" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1510" x2="1510" y1="814.2607" y2="834.2607"/><polygon fill="#181818" points="1506,824.2607,1510,834.2607,1514,824.2607,1510,828.2607" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1726" x2="1726" y1="922.1982" y2="942.1982"/><polygon fill="#181818" points="1722,932.1982,1726,942.1982,1730,932.1982,1726,936.1982" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1726" x2="1726" y1="976.167" y2="996.167"/><polygon fill="#181818" points="1722,986.167,1726,996.167,1730,986.167,1726,990.167" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="171.5" x2="171.5" y1="274.5732" y2="279.5732"/><line style="stroke:#181818;stroke-width:1.0;" x1="171.5" x2="436" y1="279.5732" y2="279.5732"/><line style="stroke:#181818;stroke-width:1.0;" x1="436" x2="436" y1="279.5732" y2="294.5732"/><polygon fill="#181818" points="432,284.5732,436,294.5732,440,284.5732,436,288.5732" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="436" x2="436" y1="382.5107" y2="387.5107"/><line style="stroke:#181818;stroke-width:1.0;" x1="436" x2="661.5" y1="387.5107" y2="387.5107"/><line style="stroke:#181818;stroke-width:1.0;" x1="661.5" x2="661.5" y1="387.5107" y2="402.5107"/><polygon fill="#181818" points="657.5,392.5107,661.5,402.5107,665.5,392.5107,661.5,396.5107" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="661.5" x2="661.5" y1="490.4482" y2="495.4482"/><line style="stroke:#181818;stroke-width:1.0;" x1="661.5" x2="935.5" y1="495.4482" y2="495.4482"/><line style="stroke:#181818;stroke-width:1.0;" x1="935.5" x2="935.5" y1="495.4482" y2="510.4482"/><polygon fill="#181818" points="931.5,500.4482,935.5,510.4482,939.5,500.4482,935.5,504.4482" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="935.5" x2="935.5" y1="598.3857" y2="603.3857"/><line style="stroke:#181818;stroke-width:1.0;" x1="935.5" x2="1249" y1="603.3857" y2="603.3857"/><line style="stroke:#181818;stroke-width:1.0;" x1="1249" x2="1249" y1="603.3857" y2="618.3857"/><polygon fill="#181818" points="1245,608.3857,1249,618.3857,1253,608.3857,1249,612.3857" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1249" x2="1249" y1="760.292" y2="765.292"/><line style="stroke:#181818;stroke-width:1.0;" x1="1249" x2="1510" y1="765.292" y2="765.292"/><line style="stroke:#181818;stroke-width:1.0;" x1="1510" x2="1510" y1="765.292" y2="780.292"/><polygon fill="#181818" points="1506,770.292,1510,780.292,1514,770.292,1510,774.292" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1510" x2="1510" y1="868.2295" y2="873.2295"/><line style="stroke:#181818;stroke-width:1.0;" x1="1510" x2="1726" y1="873.2295" y2="873.2295"/><line style="stroke:#181818;stroke-width:1.0;" x1="1726" x2="1726" y1="873.2295" y2="888.2295"/><polygon fill="#181818" points="1722,878.2295,1726,888.2295,1730,878.2295,1726,882.2295" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="54" x="143.5" y="29.4531">&#39044;&#22788;&#29702;</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="72" x="399" y="29.4531">&#35789;&#27861;&#20998;&#26512;</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="72" x="624.5" y="29.4531">&#35821;&#27861;&#20998;&#26512;</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="72" x="898.5" y="29.4531">&#35821;&#20041;&#20998;&#26512;</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="126" x="1185" y="29.4531">&#20195;&#30721;&#20248;&#21270;&#21644;&#32763;&#35793;</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="108" x="1455" y="29.4531">&#20013;&#38388;&#20195;&#30721;&#29983;&#25104;</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="108" x="1671" y="29.4531">&#30446;&#26631;&#20195;&#30721;&#29983;&#25104;</text></g></svg></figure>
</div>
</details>
<h2 id="声明宏展开"><a class="header" href="#声明宏展开">声明宏展开</a></h2>
<details id="admonition-声明宏展开过程" class="admonition note">
<summary class="admonition-title">
<p>声明宏展开过程</p>
<p><a class="admonition-anchor-link" href="#admonition-声明宏展开过程"></a></p>
</summary>
<div>
<figure><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="758px" preserveAspectRatio="none" style="width:625px;height:758px;background:#FFFFFF;" version="1.1" viewBox="0 0 625 758" width="625px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="20.9531" style="stroke:none;stroke-width:1.0;" width="592" x="15" y="12.7451"/><ellipse cx="107" cy="48.6982" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="55" y="78.6982"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="84" x="65" y="99.8369">&#36755;&#20837; Rust &#20195;&#30721;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="132" x="41" y="132.667"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="112" x="51" y="153.8057">&#23558;&#20195;&#30721;&#35299;&#26512;&#25104; token</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="172" x="21" y="186.6357"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="152" x="31" y="207.7744">&#23558; token &#23384;&#20648;&#20026;&#36755;&#20837;&#35821;&#27861;&#26641;</text><line style="stroke:#000000;stroke-width:1.5;" x1="15" x2="15" y1="12.7451" y2="746.3232"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="251" y="240.6045"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="84" x="261" y="261.7432">&#35835;&#21462;&#36755;&#20837;&#35821;&#27861;&#26641;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="188" x="209" y="294.5732"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="168" x="219" y="315.7119">&#23558;&#35821;&#27861;&#26641;&#36716;&#25442;&#25104; Rust &#20195;&#30721;&#32467;&#26500;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="200" x="203" y="348.542"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="180" x="213" y="369.6807">&#29992;&#35821;&#27861;&#26641;&#20998;&#26512;&#22120;&#30830;&#23450;&#23439;&#30340;&#23454;&#29616;&#26041;&#27861;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="245" y="402.5107"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96" x="255" y="423.6494">&#29983;&#25104;&#23439;&#30340;&#23454;&#29616;&#20195;&#30721;</text><line style="stroke:#000000;stroke-width:1.5;" x1="197" x2="197" y1="12.7451" y2="746.3232"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="140" x="437" y="456.4795"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="120" x="447" y="477.6182">&#29992;&#23454;&#29616;&#20195;&#30721;&#25193;&#23637;&#35821;&#27861;&#26641;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="152" x="431" y="510.4482"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="132" x="441" y="531.5869">&#23558;&#23439;&#24418;&#24335;&#21442;&#25968;&#36755;&#20837;&#23439;&#23637;&#24320;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="188" x="413" y="564.417"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="168" x="423" y="585.5557">&#23558;&#35821;&#27861;&#26641;&#36716;&#25442;&#25104; Rust &#20195;&#30721;&#32467;&#26500;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="461" y="618.3857"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="471" y="639.5244">&#37325;&#26032;&#22788;&#29702;&#20195;&#30721;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="455" y="672.3545"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="84" x="465" y="693.4932">&#29983;&#25104;&#26368;&#32456;&#30340;&#20195;&#30721;</text><ellipse cx="507" cy="736.3232" fill="none" rx="10" ry="10" style="stroke:#222222;stroke-width:1.5;"/><line style="stroke:#222222;stroke-width:2.5;" x1="500.8128" x2="513.1872" y1="730.1361" y2="742.5104"/><line style="stroke:#222222;stroke-width:2.5;" x1="513.1872" x2="500.8128" y1="730.1361" y2="742.5104"/><line style="stroke:#000000;stroke-width:1.5;" x1="407" x2="407" y1="12.7451" y2="746.3232"/><line style="stroke:#000000;stroke-width:1.5;" x1="605" x2="605" y1="12.7451" y2="746.3232"/><line style="stroke:#181818;stroke-width:1.0;" x1="107" x2="107" y1="58.6982" y2="78.6982"/><polygon fill="#181818" points="103,68.6982,107,78.6982,111,68.6982,107,72.6982" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="107" x2="107" y1="112.667" y2="132.667"/><polygon fill="#181818" points="103,122.667,107,132.667,111,122.667,107,126.667" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="107" x2="107" y1="166.6357" y2="186.6357"/><polygon fill="#181818" points="103,176.6357,107,186.6357,111,176.6357,107,180.6357" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="303" x2="303" y1="274.5732" y2="294.5732"/><polygon fill="#181818" points="299,284.5732,303,294.5732,307,284.5732,303,288.5732" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="303" x2="303" y1="328.542" y2="348.542"/><polygon fill="#181818" points="299,338.542,303,348.542,307,338.542,303,342.542" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="303" x2="303" y1="382.5107" y2="402.5107"/><polygon fill="#181818" points="299,392.5107,303,402.5107,307,392.5107,303,396.5107" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="507" x2="507" y1="490.4482" y2="510.4482"/><polygon fill="#181818" points="503,500.4482,507,510.4482,511,500.4482,507,504.4482" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="507" x2="507" y1="544.417" y2="564.417"/><polygon fill="#181818" points="503,554.417,507,564.417,511,554.417,507,558.417" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="507" x2="507" y1="598.3857" y2="618.3857"/><polygon fill="#181818" points="503,608.3857,507,618.3857,511,608.3857,507,612.3857" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="507" x2="507" y1="652.3545" y2="672.3545"/><polygon fill="#181818" points="503,662.3545,507,672.3545,511,662.3545,507,666.3545" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="507" x2="507" y1="706.3232" y2="726.3232"/><polygon fill="#181818" points="503,716.3232,507,726.3232,511,716.3232,507,720.3232" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="107" x2="107" y1="220.6045" y2="225.6045"/><line style="stroke:#181818;stroke-width:1.0;" x1="107" x2="303" y1="225.6045" y2="225.6045"/><line style="stroke:#181818;stroke-width:1.0;" x1="303" x2="303" y1="225.6045" y2="240.6045"/><polygon fill="#181818" points="299,230.6045,303,240.6045,307,230.6045,303,234.6045" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="303" x2="303" y1="436.4795" y2="441.4795"/><line style="stroke:#181818;stroke-width:1.0;" x1="303" x2="507" y1="441.4795" y2="441.4795"/><line style="stroke:#181818;stroke-width:1.0;" x1="507" x2="507" y1="441.4795" y2="456.4795"/><polygon fill="#181818" points="503,446.4795,507,456.4795,511,446.4795,507,450.4795" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="113" x="49.5" y="29.4531">Tokenization</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="64" x="270" y="29.4531">Parsing</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="89" x="461.5" y="29.4531">Expansion</text></g></svg></figure>
</div>
</details>
<p>Rust 的声明宏在编译时对代码进行转换，因此其展开过程是在编译期间完成的。展开过程可以分为三个阶段：</p>
<ol>
<li>Tokenization：解析输入的 Rust 代码，将其转换成一个个 token（如标识符、关键字、符号等）。</li>
<li>Parsing：将 token 转化成语法树，用于对代码进行进一步处理。</li>
<li>Expansion：对语法树进行处理，生成最终的代码。</li>
</ol>
<p>在第三个阶段，宏会根据语法树中的特定模式对代码进行重构。这些模式可以是任何 Rust 代码片段，包括类型、结构体、函数、表达式等。宏甚至可以递归地展开自己。</p>
<p>展开过程中，宏的实现代码可以使用标准的 Rust 代码编写，包括控制结构和函数调用等。</p>
<blockquote>
<p>展开后的代码与宏的实现代码完全一样，因此对于用户而言，使用宏和使用函数没有什么区别。</p>
</blockquote>
<h2 id="过程宏展开"><a class="header" href="#过程宏展开">过程宏展开</a></h2>
<details id="admonition-属性类型函数三种过程宏展开过程对比" class="admonition note">
<summary class="admonition-title">
<p>属性、类型、函数三种过程宏展开过程对比</p>
<p><a class="admonition-anchor-link" href="#admonition-属性类型函数三种过程宏展开过程对比"></a></p>
</summary>
<div>
<figure><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1401px" preserveAspectRatio="none" style="width:1467px;height:1401px;background:#FFFFFF;" version="1.1" viewBox="0 0 1467 1401" width="1467px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="20.9531" style="stroke:none;stroke-width:1.0;" width="1434.5" x="15" y="12.7451"/><ellipse cx="203" cy="48.6982" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><polygon fill="#F1F1F1" points="175.5,78.6982,230.5,78.6982,242.5,90.6982,230.5,102.6982,175.5,102.6982,163.5,90.6982,175.5,78.6982" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="55" x="175.5" y="94.5063">&#36935;&#21040;&#23646;&#24615;&#23439;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="143.5" y="88.104">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="242.5" y="88.104">&#26410;&#36935;&#21040;&#23646;&#24615;&#23439;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="53.5" y="122.6982"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="63.5" y="143.8369">&#25191;&#34892;&#23646;&#24615;&#23439;</text><polygon fill="#F1F1F1" points="203,393.6045,215,405.6045,203,417.6045,191,405.6045,203,393.6045" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="203" cy="447.6045" fill="none" rx="10" ry="10" style="stroke:#222222;stroke-width:1.5;"/><line style="stroke:#222222;stroke-width:2.5;" x1="196.8128" x2="209.1872" y1="441.4173" y2="453.7917"/><line style="stroke:#222222;stroke-width:2.5;" x1="209.1872" x2="196.8128" y1="441.4173" y2="453.7917"/><ellipse cx="203" cy="477.6045" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><polygon fill="#F1F1F1" points="175.5,507.6045,230.5,507.6045,242.5,519.6045,230.5,531.6045,175.5,531.6045,163.5,519.6045,175.5,507.6045" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="55" x="175.5" y="523.4126">&#36935;&#21040;&#31867;&#22411;&#23439;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="143.5" y="517.0103">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="242.5" y="517.0103">&#26410;&#36935;&#21040;&#31867;&#22411;&#23439;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="47.5" y="551.6045"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="57.5" y="572.7432">&#25191;&#34892;&#31867;&#22411;&#23439;</text><polygon fill="#F1F1F1" points="203,891.4795,215,903.4795,203,915.4795,191,903.4795,203,891.4795" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="203" cy="945.4795" fill="none" rx="10" ry="10" style="stroke:#222222;stroke-width:1.5;"/><line style="stroke:#222222;stroke-width:2.5;" x1="196.8128" x2="209.1872" y1="939.2923" y2="951.6667"/><line style="stroke:#222222;stroke-width:2.5;" x1="209.1872" x2="196.8128" y1="939.2923" y2="951.6667"/><ellipse cx="203" cy="975.4795" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><polygon fill="#F1F1F1" points="175.5,1005.4795,230.5,1005.4795,242.5,1017.4795,230.5,1029.4795,175.5,1029.4795,163.5,1017.4795,175.5,1005.4795" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="55" x="175.5" y="1021.2876">&#36935;&#21040;&#20989;&#25968;&#23439;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="143.5" y="1014.8853">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="242.5" y="1014.8853">&#26410;&#36935;&#21040;&#20989;&#25968;&#23439;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="21" y="1049.4795"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="31" y="1070.6182">&#25191;&#34892;&#20989;&#25968;&#23439;</text><polygon fill="#F1F1F1" points="203,1325.3545,215,1337.3545,203,1349.3545,191,1337.3545,203,1325.3545" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="203" cy="1379.3545" fill="none" rx="10" ry="10" style="stroke:#222222;stroke-width:1.5;"/><line style="stroke:#222222;stroke-width:2.5;" x1="196.8128" x2="209.1872" y1="1373.1673" y2="1385.5417"/><line style="stroke:#222222;stroke-width:2.5;" x1="209.1872" x2="196.8128" y1="1373.1673" y2="1385.5417"/><line style="stroke:#000000;stroke-width:1.5;" x1="15" x2="15" y1="12.7451" y2="1389.3545"/><line style="stroke:#181818;stroke-width:1.5;" x1="457" x2="786.5" y1="176.667" y2="176.667"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="417" y="228.667"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="427" y="249.8057">&#33719;&#21462;&#23439;&#21442;&#25968;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="417" y="297.6357"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="427" y="318.7744">&#35299;&#26512;&#23439;&#21442;&#25968;</text><polygon fill="#F1F1F1" points="598,196.667,664,196.667,676,208.667,664,220.667,598,220.667,586,208.667,598,196.667" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="598" y="212.4751">&#23646;&#24615;&#26159;&#21333;&#20010;&#20540;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="566" y="206.0728">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="676" y="206.0728">&#23646;&#24615;&#26159;&#22810;&#20010;&#20540;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="535" y="230.667"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="545" y="251.8057">&#33719;&#21462;&#23646;&#24615;&#20540;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="541" y="299.6357"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="551" y="320.7744">&#20462;&#25913;&#23646;&#24615;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="635" y="230.667"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="84" x="645" y="251.8057">&#33719;&#21462;&#23646;&#24615;&#20540;&#21015;&#34920;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="653" y="299.6357"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="663" y="320.7744">&#20462;&#25913;&#23646;&#24615;</text><polygon fill="#F1F1F1" points="631,339.6045,643,351.6045,631,363.6045,619,351.6045,631,339.6045" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:1.5;" x1="439" x2="786.5" y1="605.5732" y2="605.5732"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="399" y="692.0576"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="409" y="713.1963">&#33719;&#21462;&#23439;&#21442;&#25968;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="399" y="761.0264"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="409" y="782.165">&#35299;&#26512;&#23439;&#21442;&#25968;</text><polygon fill="#F1F1F1" points="586.5,625.5732,663.5,625.5732,675.5,637.5732,663.5,649.5732,586.5,649.5732,574.5,637.5732,586.5,625.5732" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="77" x="586.5" y="641.3813">&#21442;&#25968;&#26159;&#21333;&#20010;&#31867;&#22411;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="554.5" y="634.979">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="77" x="675.5" y="634.979">&#21442;&#25968;&#26159;&#22810;&#20010;&#31867;&#22411;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="517" y="659.5732"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="527" y="680.7119">&#33719;&#21462;&#31867;&#22411;&#21442;&#25968;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="523" y="728.542"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="533" y="749.6807">&#29983;&#25104;&#26032;&#31867;&#22411;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="529" y="797.5107"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="539" y="818.6494">&#20462;&#25913;&#31867;&#22411;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="629" y="659.5732"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96" x="639" y="680.7119">&#33719;&#21462;&#31867;&#22411;&#21442;&#25968;&#21015;&#34920;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="647" y="728.542"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="657" y="749.6807">&#29983;&#25104;&#26032;&#31867;&#22411;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="653" y="797.5107"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="663" y="818.6494">&#20462;&#25913;&#31867;&#22411;</text><polygon fill="#F1F1F1" points="625,837.4795,637,849.4795,625,861.4795,613,849.4795,625,837.4795" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:1.5;" x1="359.5" x2="791.5" y1="1103.4482" y2="1103.4482"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="319.5" y="1157.9326"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="329.5" y="1179.0713">&#33719;&#21462;&#23439;&#21442;&#25968;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="319.5" y="1226.9014"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="329.5" y="1248.04">&#35299;&#26512;&#23439;&#21442;&#25968;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="427.5" y="1123.4482"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="84" x="437.5" y="1144.5869">&#25191;&#34892;&#39044;&#22788;&#29702;&#36923;&#36753;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="439.5" y="1192.417"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="449.5" y="1213.5557">&#33719;&#21462;&#20989;&#25968;&#20307;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="439.5" y="1261.3857"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="449.5" y="1282.5244">&#35299;&#26512;&#20989;&#25968;&#20307;</text><polygon fill="#F1F1F1" points="637.5,1125.9326,703.5,1125.9326,715.5,1137.9326,703.5,1149.9326,637.5,1149.9326,625.5,1137.9326,637.5,1125.9326" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="637.5" y="1141.7407">&#38656;&#35201;&#39069;&#22806;&#22788;&#29702;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="20" x="605.5" y="1135.3384">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="715.5" y="1135.3384">&#26080;&#38656;&#39069;&#22806;&#22788;&#29702;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="569.5" y="1159.9326"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="579.5" y="1181.0713">&#25191;&#34892;&#39069;&#22806;&#22788;&#29702;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="575.5" y="1228.9014"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="585.5" y="1250.04">&#29983;&#25104;&#26032;&#20195;&#30721;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="685.5" y="1159.9326"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="695.5" y="1181.0713">&#29983;&#25104;&#26032;&#20195;&#30721;</text><polygon fill="#F1F1F1" points="670.5,1268.8701,682.5,1280.8701,670.5,1292.8701,658.5,1280.8701,670.5,1268.8701" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="313.5" x2="313.5" y1="12.7451" y2="1389.3545"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="833.5" y="263.1514"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="843.5" y="284.29">&#36820;&#22238;&#23646;&#24615;</text><line style="stroke:#181818;stroke-width:1.5;" x1="801.5" x2="867.5" y1="383.6045" y2="383.6045"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="911.5" y="122.6982"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="921.5" y="143.8369">&#32487;&#32493;&#35299;&#26512;&#20195;&#30721;</text><line style="stroke:#000000;stroke-width:1.5;" x1="796.5" x2="796.5" y1="12.7451" y2="1389.3545"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="1044.5" y="726.542"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="1054.5" y="747.6807">&#36820;&#22238;&#31867;&#22411;</text><line style="stroke:#181818;stroke-width:1.5;" x1="1012.5" x2="1078.5" y1="881.4795" y2="881.4795"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="1122.5" y="551.6045"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="1132.5" y="572.7432">&#32487;&#32493;&#35299;&#26512;&#20195;&#30721;</text><line style="stroke:#000000;stroke-width:1.5;" x1="1007.5" x2="1007.5" y1="12.7451" y2="1389.3545"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="1273.5" y="1192.417"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="1283.5" y="1213.5557">&#36820;&#22238;&#20195;&#30721;</text><line style="stroke:#181818;stroke-width:1.5;" x1="1223.5" x2="1307.5" y1="1315.3545" y2="1315.3545"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="1351.5" y="1049.4795"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="1361.5" y="1070.6182">&#32487;&#32493;&#35299;&#26512;&#20195;&#30721;</text><line style="stroke:#000000;stroke-width:1.5;" x1="1218.5" x2="1218.5" y1="12.7451" y2="1389.3545"/><line style="stroke:#000000;stroke-width:1.5;" x1="1447.5" x2="1447.5" y1="12.7451" y2="1389.3545"/><line style="stroke:#181818;stroke-width:1.0;" x1="163.5" x2="93.5" y1="90.6982" y2="90.6982"/><line style="stroke:#181818;stroke-width:1.0;" x1="93.5" x2="93.5" y1="90.6982" y2="122.6982"/><polygon fill="#181818" points="89.5,112.6982,93.5,122.6982,97.5,112.6982,93.5,116.6982" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="203" x2="203" y1="58.6982" y2="78.6982"/><polygon fill="#181818" points="199,68.6982,203,78.6982,207,68.6982,203,72.6982" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="203" x2="203" y1="417.6045" y2="437.6045"/><polygon fill="#181818" points="199,427.6045,203,437.6045,207,427.6045,203,431.6045" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="163.5" x2="87.5" y1="519.6045" y2="519.6045"/><line style="stroke:#181818;stroke-width:1.0;" x1="87.5" x2="87.5" y1="519.6045" y2="551.6045"/><polygon fill="#181818" points="83.5,541.6045,87.5,551.6045,91.5,541.6045,87.5,545.6045" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="203" x2="203" y1="487.6045" y2="507.6045"/><polygon fill="#181818" points="199,497.6045,203,507.6045,207,497.6045,203,501.6045" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="203" x2="203" y1="915.4795" y2="935.4795"/><polygon fill="#181818" points="199,925.4795,203,935.4795,207,925.4795,203,929.4795" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="163.5" x2="61" y1="1017.4795" y2="1017.4795"/><line style="stroke:#181818;stroke-width:1.0;" x1="61" x2="61" y1="1017.4795" y2="1049.4795"/><polygon fill="#181818" points="57,1039.4795,61,1049.4795,65,1039.4795,61,1043.4795" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="203" x2="203" y1="985.4795" y2="1005.4795"/><polygon fill="#181818" points="199,995.4795,203,1005.4795,207,995.4795,203,999.4795" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="203" x2="203" y1="1349.3545" y2="1369.3545"/><polygon fill="#181818" points="199,1359.3545,203,1369.3545,207,1359.3545,203,1363.3545" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="457" x2="457" y1="262.6357" y2="297.6357"/><polygon fill="#181818" points="453,287.6357,457,297.6357,461,287.6357,457,291.6357" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="575" x2="575" y1="264.6357" y2="299.6357"/><polygon fill="#181818" points="571,289.6357,575,299.6357,579,289.6357,575,293.6357" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="687" x2="687" y1="264.6357" y2="299.6357"/><polygon fill="#181818" points="683,289.6357,687,299.6357,691,289.6357,687,293.6357" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="575" y1="208.667" y2="208.667"/><line style="stroke:#181818;stroke-width:1.0;" x1="575" x2="575" y1="208.667" y2="230.667"/><polygon fill="#181818" points="571,220.667,575,230.667,579,220.667,575,224.667" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="676" x2="687" y1="208.667" y2="208.667"/><line style="stroke:#181818;stroke-width:1.0;" x1="687" x2="687" y1="208.667" y2="230.667"/><polygon fill="#181818" points="683,220.667,687,230.667,691,220.667,687,224.667" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="575" x2="575" y1="333.6045" y2="351.6045"/><line style="stroke:#181818;stroke-width:1.0;" x1="575" x2="619" y1="351.6045" y2="351.6045"/><polygon fill="#181818" points="609,347.6045,619,351.6045,609,355.6045,613,351.6045" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="687" x2="687" y1="333.6045" y2="351.6045"/><line style="stroke:#181818;stroke-width:1.0;" x1="687" x2="643" y1="351.6045" y2="351.6045"/><polygon fill="#181818" points="653,347.6045,643,351.6045,653,355.6045,649,351.6045" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="457" x2="457" y1="178.167" y2="228.667"/><polygon fill="#181818" points="453,218.667,457,228.667,461,218.667,457,222.667" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="631" x2="631" y1="178.167" y2="196.667"/><polygon fill="#181818" points="627,186.667,631,196.667,635,186.667,631,190.667" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="439" x2="439" y1="726.0264" y2="761.0264"/><polygon fill="#181818" points="435,751.0264,439,761.0264,443,751.0264,439,755.0264" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="563" x2="563" y1="693.542" y2="728.542"/><polygon fill="#181818" points="559,718.542,563,728.542,567,718.542,563,722.542" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="563" x2="563" y1="762.5107" y2="797.5107"/><polygon fill="#181818" points="559,787.5107,563,797.5107,567,787.5107,563,791.5107" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="687" x2="687" y1="693.542" y2="728.542"/><polygon fill="#181818" points="683,718.542,687,728.542,691,718.542,687,722.542" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="687" x2="687" y1="762.5107" y2="797.5107"/><polygon fill="#181818" points="683,787.5107,687,797.5107,691,787.5107,687,791.5107" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="574.5" x2="563" y1="637.5732" y2="637.5732"/><line style="stroke:#181818;stroke-width:1.0;" x1="563" x2="563" y1="637.5732" y2="659.5732"/><polygon fill="#181818" points="559,649.5732,563,659.5732,567,649.5732,563,653.5732" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="675.5" x2="687" y1="637.5732" y2="637.5732"/><line style="stroke:#181818;stroke-width:1.0;" x1="687" x2="687" y1="637.5732" y2="659.5732"/><polygon fill="#181818" points="683,649.5732,687,659.5732,691,649.5732,687,653.5732" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="563" x2="563" y1="831.4795" y2="849.4795"/><line style="stroke:#181818;stroke-width:1.0;" x1="563" x2="613" y1="849.4795" y2="849.4795"/><polygon fill="#181818" points="603,845.4795,613,849.4795,603,853.4795,607,849.4795" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="687" x2="687" y1="831.4795" y2="849.4795"/><line style="stroke:#181818;stroke-width:1.0;" x1="687" x2="637" y1="849.4795" y2="849.4795"/><polygon fill="#181818" points="647,845.4795,637,849.4795,647,853.4795,643,849.4795" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="439" x2="439" y1="607.0732" y2="692.0576"/><polygon fill="#181818" points="435,682.0576,439,692.0576,443,682.0576,439,686.0576" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="625" x2="625" y1="607.0732" y2="625.5732"/><polygon fill="#181818" points="621,615.5732,625,625.5732,629,615.5732,625,619.5732" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="359.5" x2="359.5" y1="1191.9014" y2="1226.9014"/><polygon fill="#181818" points="355.5,1216.9014,359.5,1226.9014,363.5,1216.9014,359.5,1220.9014" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="479.5" x2="479.5" y1="1157.417" y2="1192.417"/><polygon fill="#181818" points="475.5,1182.417,479.5,1192.417,483.5,1182.417,479.5,1186.417" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="479.5" x2="479.5" y1="1226.3857" y2="1261.3857"/><polygon fill="#181818" points="475.5,1251.3857,479.5,1261.3857,483.5,1251.3857,479.5,1255.3857" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="615.5" x2="615.5" y1="1193.9014" y2="1228.9014"/><polygon fill="#181818" points="611.5,1218.9014,615.5,1228.9014,619.5,1218.9014,615.5,1222.9014" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="625.5" x2="615.5" y1="1137.9326" y2="1137.9326"/><line style="stroke:#181818;stroke-width:1.0;" x1="615.5" x2="615.5" y1="1137.9326" y2="1159.9326"/><polygon fill="#181818" points="611.5,1149.9326,615.5,1159.9326,619.5,1149.9326,615.5,1153.9326" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="715.5" x2="725.5" y1="1137.9326" y2="1137.9326"/><line style="stroke:#181818;stroke-width:1.0;" x1="725.5" x2="725.5" y1="1137.9326" y2="1159.9326"/><polygon fill="#181818" points="721.5,1149.9326,725.5,1159.9326,729.5,1149.9326,725.5,1153.9326" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="615.5" x2="615.5" y1="1262.8701" y2="1280.8701"/><line style="stroke:#181818;stroke-width:1.0;" x1="615.5" x2="658.5" y1="1280.8701" y2="1280.8701"/><polygon fill="#181818" points="648.5,1276.8701,658.5,1280.8701,648.5,1284.8701,652.5,1280.8701" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="725.5" x2="725.5" y1="1193.9014" y2="1280.8701"/><line style="stroke:#181818;stroke-width:1.0;" x1="725.5" x2="682.5" y1="1280.8701" y2="1280.8701"/><polygon fill="#181818" points="692.5,1276.8701,682.5,1280.8701,692.5,1284.8701,688.5,1280.8701" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="359.5" x2="359.5" y1="1104.9482" y2="1157.9326"/><polygon fill="#181818" points="355.5,1147.9326,359.5,1157.9326,363.5,1147.9326,359.5,1151.9326" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="479.5" x2="479.5" y1="1104.9482" y2="1123.4482"/><polygon fill="#181818" points="475.5,1113.4482,479.5,1123.4482,483.5,1113.4482,479.5,1117.4482" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="670.5" x2="670.5" y1="1104.9482" y2="1125.9326"/><polygon fill="#181818" points="666.5,1115.9326,670.5,1125.9326,674.5,1115.9326,670.5,1119.9326" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="867.5" x2="867.5" y1="297.1201" y2="383.6045"/><polygon fill="#181818" points="863.5,373.6045,867.5,383.6045,871.5,373.6045,867.5,377.6045" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1078.5" x2="1078.5" y1="760.5107" y2="881.4795"/><polygon fill="#181818" points="1074.5,871.4795,1078.5,881.4795,1082.5,871.4795,1078.5,875.4795" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1307.5" x2="1307.5" y1="1226.3857" y2="1315.3545"/><polygon fill="#181818" points="1303.5,1305.3545,1307.5,1315.3545,1311.5,1305.3545,1307.5,1309.3545" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="786.5" x2="786.5" y1="178.167" y2="181.667"/><line style="stroke:#181818;stroke-width:1.0;" x1="786.5" x2="867.5" y1="181.667" y2="181.667"/><line style="stroke:#181818;stroke-width:1.0;" x1="867.5" x2="867.5" y1="181.667" y2="263.1514"/><polygon fill="#181818" points="863.5,253.1514,867.5,263.1514,871.5,253.1514,867.5,257.1514" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="457" x2="457" y1="331.6045" y2="369.6045"/><line style="stroke:#181818;stroke-width:1.0;" x1="457" x2="801.5" y1="369.6045" y2="369.6045"/><line style="stroke:#181818;stroke-width:1.0;" x1="801.5" x2="801.5" y1="369.6045" y2="383.6045"/><polygon fill="#181818" points="797.5,373.6045,801.5,383.6045,805.5,373.6045,801.5,377.6045" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="631" x2="631" y1="363.6045" y2="369.6045"/><line style="stroke:#181818;stroke-width:1.0;" x1="631" x2="819.5" y1="369.6045" y2="369.6045"/><line style="stroke:#181818;stroke-width:1.0;" x1="819.5" x2="819.5" y1="369.6045" y2="383.6045"/><polygon fill="#181818" points="815.5,373.6045,819.5,383.6045,823.5,373.6045,819.5,377.6045" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="93.5" x2="93.5" y1="156.667" y2="161.667"/><line style="stroke:#181818;stroke-width:1.0;" x1="93.5" x2="631" y1="161.667" y2="161.667"/><line style="stroke:#181818;stroke-width:1.0;" x1="631" x2="631" y1="161.667" y2="176.667"/><polygon fill="#181818" points="627,166.667,631,176.667,635,166.667,631,170.667" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="242.5" x2="957.5" y1="90.6982" y2="90.6982"/><line style="stroke:#181818;stroke-width:1.0;" x1="957.5" x2="957.5" y1="90.6982" y2="122.6982"/><polygon fill="#181818" points="953.5,112.6982,957.5,122.6982,961.5,112.6982,957.5,116.6982" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="819.5" x2="819.5" y1="385.1045" y2="388.6045"/><line style="stroke:#181818;stroke-width:1.0;" x1="819.5" x2="173" y1="388.6045" y2="388.6045"/><line style="stroke:#181818;stroke-width:1.0;" x1="173" x2="173" y1="388.6045" y2="405.6045"/><line style="stroke:#181818;stroke-width:1.0;" x1="173" x2="191" y1="405.6045" y2="405.6045"/><polygon fill="#181818" points="181,401.6045,191,405.6045,181,409.6045,185,405.6045" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="957.5" x2="957.5" y1="156.667" y2="405.6045"/><line style="stroke:#181818;stroke-width:1.0;" x1="957.5" x2="215" y1="405.6045" y2="405.6045"/><polygon fill="#181818" points="225,401.6045,215,405.6045,225,409.6045,221,405.6045" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="786.5" x2="786.5" y1="607.0732" y2="610.5732"/><line style="stroke:#181818;stroke-width:1.0;" x1="786.5" x2="1078.5" y1="610.5732" y2="610.5732"/><line style="stroke:#181818;stroke-width:1.0;" x1="1078.5" x2="1078.5" y1="610.5732" y2="726.542"/><polygon fill="#181818" points="1074.5,716.542,1078.5,726.542,1082.5,716.542,1078.5,720.542" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="439" x2="439" y1="794.9951" y2="867.4795"/><line style="stroke:#181818;stroke-width:1.0;" x1="439" x2="1012.5" y1="867.4795" y2="867.4795"/><line style="stroke:#181818;stroke-width:1.0;" x1="1012.5" x2="1012.5" y1="867.4795" y2="881.4795"/><polygon fill="#181818" points="1008.5,871.4795,1012.5,881.4795,1016.5,871.4795,1012.5,875.4795" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="625" x2="625" y1="861.4795" y2="867.4795"/><line style="stroke:#181818;stroke-width:1.0;" x1="625" x2="1030.5" y1="867.4795" y2="867.4795"/><line style="stroke:#181818;stroke-width:1.0;" x1="1030.5" x2="1030.5" y1="867.4795" y2="881.4795"/><polygon fill="#181818" points="1026.5,871.4795,1030.5,881.4795,1034.5,871.4795,1030.5,875.4795" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="87.5" x2="87.5" y1="585.5732" y2="590.5732"/><line style="stroke:#181818;stroke-width:1.0;" x1="87.5" x2="625" y1="590.5732" y2="590.5732"/><line style="stroke:#181818;stroke-width:1.0;" x1="625" x2="625" y1="590.5732" y2="605.5732"/><polygon fill="#181818" points="621,595.5732,625,605.5732,629,595.5732,625,599.5732" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="242.5" x2="1168.5" y1="519.6045" y2="519.6045"/><line style="stroke:#181818;stroke-width:1.0;" x1="1168.5" x2="1168.5" y1="519.6045" y2="551.6045"/><polygon fill="#181818" points="1164.5,541.6045,1168.5,551.6045,1172.5,541.6045,1168.5,545.6045" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1030.5" x2="1030.5" y1="882.9795" y2="886.4795"/><line style="stroke:#181818;stroke-width:1.0;" x1="1030.5" x2="173" y1="886.4795" y2="886.4795"/><line style="stroke:#181818;stroke-width:1.0;" x1="173" x2="173" y1="886.4795" y2="903.4795"/><line style="stroke:#181818;stroke-width:1.0;" x1="173" x2="191" y1="903.4795" y2="903.4795"/><polygon fill="#181818" points="181,899.4795,191,903.4795,181,907.4795,185,903.4795" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1168.5" x2="1168.5" y1="585.5732" y2="903.4795"/><line style="stroke:#181818;stroke-width:1.0;" x1="1168.5" x2="215" y1="903.4795" y2="903.4795"/><polygon fill="#181818" points="225,899.4795,215,903.4795,225,907.4795,221,903.4795" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="791.5" x2="791.5" y1="1104.9482" y2="1108.4482"/><line style="stroke:#181818;stroke-width:1.0;" x1="791.5" x2="1307.5" y1="1108.4482" y2="1108.4482"/><line style="stroke:#181818;stroke-width:1.0;" x1="1307.5" x2="1307.5" y1="1108.4482" y2="1192.417"/><polygon fill="#181818" points="1303.5,1182.417,1307.5,1192.417,1311.5,1182.417,1307.5,1186.417" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="359.5" x2="359.5" y1="1260.8701" y2="1301.3545"/><line style="stroke:#181818;stroke-width:1.0;" x1="359.5" x2="1223.5" y1="1301.3545" y2="1301.3545"/><line style="stroke:#181818;stroke-width:1.0;" x1="1223.5" x2="1223.5" y1="1301.3545" y2="1315.3545"/><polygon fill="#181818" points="1219.5,1305.3545,1223.5,1315.3545,1227.5,1305.3545,1223.5,1309.3545" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="479.5" x2="479.5" y1="1295.3545" y2="1301.3545"/><line style="stroke:#181818;stroke-width:1.0;" x1="479.5" x2="1241.5" y1="1301.3545" y2="1301.3545"/><line style="stroke:#181818;stroke-width:1.0;" x1="1241.5" x2="1241.5" y1="1301.3545" y2="1315.3545"/><polygon fill="#181818" points="1237.5,1305.3545,1241.5,1315.3545,1245.5,1305.3545,1241.5,1309.3545" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="670.5" x2="670.5" y1="1292.8701" y2="1301.3545"/><line style="stroke:#181818;stroke-width:1.0;" x1="670.5" x2="1259.5" y1="1301.3545" y2="1301.3545"/><line style="stroke:#181818;stroke-width:1.0;" x1="1259.5" x2="1259.5" y1="1301.3545" y2="1315.3545"/><polygon fill="#181818" points="1255.5,1305.3545,1259.5,1315.3545,1263.5,1305.3545,1259.5,1309.3545" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="61" x2="61" y1="1083.4482" y2="1088.4482"/><line style="stroke:#181818;stroke-width:1.0;" x1="61" x2="598.5" y1="1088.4482" y2="1088.4482"/><line style="stroke:#181818;stroke-width:1.0;" x1="598.5" x2="598.5" y1="1088.4482" y2="1103.4482"/><polygon fill="#181818" points="594.5,1093.4482,598.5,1103.4482,602.5,1093.4482,598.5,1097.4482" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="242.5" x2="1397.5" y1="1017.4795" y2="1017.4795"/><line style="stroke:#181818;stroke-width:1.0;" x1="1397.5" x2="1397.5" y1="1017.4795" y2="1049.4795"/><polygon fill="#181818" points="1393.5,1039.4795,1397.5,1049.4795,1401.5,1039.4795,1397.5,1043.4795" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1250.5" x2="1250.5" y1="1316.8545" y2="1320.3545"/><line style="stroke:#181818;stroke-width:1.0;" x1="1250.5" x2="173" y1="1320.3545" y2="1320.3545"/><line style="stroke:#181818;stroke-width:1.0;" x1="173" x2="173" y1="1320.3545" y2="1337.3545"/><line style="stroke:#181818;stroke-width:1.0;" x1="173" x2="191" y1="1337.3545" y2="1337.3545"/><polygon fill="#181818" points="181,1333.3545,191,1337.3545,181,1341.3545,185,1337.3545" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1397.5" x2="1397.5" y1="1083.4482" y2="1337.3545"/><line style="stroke:#181818;stroke-width:1.0;" x1="1397.5" x2="215" y1="1337.3545" y2="1337.3545"/><polygon fill="#181818" points="225,1333.3545,215,1337.3545,225,1341.3545,221,1337.3545" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="72" x="128.25" y="29.4531">&#35299;&#26512;&#20195;&#30721;</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="126" x="492" y="29.4531">&#20934;&#22791;&#35299;&#26512;&#23439;&#21442;&#25968;</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="72" x="866" y="29.4531">&#36820;&#22238;&#23646;&#24615;</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="72" x="1077" y="29.4531">&#36820;&#22238;&#31867;&#22411;</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="72" x="1297" y="29.4531">&#36820;&#22238;&#20195;&#30721;</text></g></svg></figure>
</div>
</details>
<ol>
<li></li>
</ol>
<p>属性宏和类型宏展开过程的流程较为相似，都需要解析宏参数、生成新的属性或类型、修改原有属性或类型，并返回属性或类型等步骤。但是由于其作用的范围不同，展开过程中需要解析的内容也不尽相同。例如，类型宏需要解析的是类型参数，用于生成新的类型；而属性宏需要解析的是属性参数，用于生成新的属性。</p>
<ol start="2">
<li>函数宏和其他两种宏不同的是，函数宏需要对整个函数体进行处理，并生成新的代码。在执行完预处理逻辑和解析函数体后，需要判断是否需要进行额外处理，然后才能最终生成新代码并返回。</li>
</ol>
<h2 id="对比"><a class="header" href="#对比">对比</a></h2>
<div class="extended-markdown-table"><div class="extended-markdown-header extended-markdown-left-border" style="grid-column-start: 1; grid-column-end: 2; grid-row-start: 1; grid-row-end: 2"></div><div class="extended-markdown-header" style="grid-column-start: 2; grid-column-end: 3; grid-row-start: 1; grid-row-end: 2">声明宏</div><div class="extended-markdown-header" style="grid-column-start: 3; grid-column-end: 4; grid-row-start: 1; grid-row-end: 2">属性宏/类型宏</div><div class="extended-markdown-header" style="grid-column-start: 4; grid-column-end: 5; grid-row-start: 1; grid-row-end: 2">函数宏</div><div class="extended-markdown-left-border" style="grid-column-start: 1; grid-column-end: 2; grid-row-start: 2; grid-row-end: 3">异同点</div><div class="" style="grid-column-start: 2; grid-column-end: 3; grid-row-start: 2; grid-row-end: 3">不能修改源代码<br>- 作用于某个规模较小的表达式或语句<br>- 可以在声明中使用</div><div class="" style="grid-column-start: 3; grid-column-end: 4; grid-row-start: 2; grid-row-end: 3">可以修改源代码<br>- 作用于属性/类型<br>- 可以在声明中使用</div><div class="" style="grid-column-start: 4; grid-column-end: 5; grid-row-start: 2; grid-row-end: 3">生成新的代码<br>- 不能修改原有代码<br>- 作用于整个函数体<br>- 不能在声明中使用</div><div class="extended-markdown-left-border" style="grid-column-start: 1; grid-column-end: 2; grid-row-start: 3; grid-row-end: 4">使用场景</div><div class="" style="grid-column-start: 2; grid-column-end: 3; grid-row-start: 3; grid-row-end: 4">封装底层功能<br>- 生成器语法扩展<br>- DRY原则</div><div class="" style="grid-column-start: 3; grid-column-end: 4; grid-row-start: 3; grid-row-end: 4">重载运算符<br>- 自定义标记<br>- 序列化/反序列化</div><div class="" style="grid-column-start: 4; grid-column-end: 5; grid-row-start: 3; grid-row-end: 4">实现特殊流程控制<br>- 实现嵌套参数模板</div><div class="extended-markdown-left-border" style="grid-column-start: 1; grid-column-end: 2; grid-row-start: 4; grid-row-end: 5">关键字</div><div class="" style="grid-column-start: 2; grid-column-end: 3; grid-row-start: 4; grid-row-end: 5">macro</div><div class="" style="grid-column-start: 3; grid-column-end: 4; grid-row-start: 4; grid-row-end: 5">- derive<br>- repr<br>- allow<br>- compiler_builtins<br>- link</div><div class="" style="grid-column-start: 4; grid-column-end: 5; grid-row-start: 4; grid-row-end: 5">macro_rules</div></div>
            </main>

            <!--            <script src="https://utteranc.es/client.js"-->
            <!--                    repo="RustMagazine/rust_magazine_2022"-->
            <!--                    issue-term="title"-->
            <!--                    theme="github-light"-->
            <!--                    crossorigin="anonymous"-->
            <!--                    async></script>-->

            <nav class="nav-wrapper" aria-label="Page navigation">
                <!-- Mobile navigation buttons -->
                    <a rel="prev" href="../../collections/sequence_activity/async_cores.html" class="mobile-nav-chapters previous"
                       title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../collections/pages/rust/ddd/ddd.html" class="mobile-nav-chapters next"
                       title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>

                <div style="clear: both"></div>
            </nav>
        </div>
    </div>

    <nav class="nav-wide-wrapper" aria-label="Page navigation">
            <a rel="prev" href="../../collections/sequence_activity/async_cores.html" class="nav-chapters previous" title="Previous chapter"
               aria-label="Previous chapter" aria-keyshortcuts="Left">
                <i class="fa fa-angle-left"></i>
            </a>

            <a rel="next" href="../../collections/pages/rust/ddd/ddd.html" class="nav-chapters next" title="Next chapter"
               aria-label="Next chapter" aria-keyshortcuts="Right">
                <i class="fa fa-angle-right"></i>
            </a>
    </nav>

</div>




    <script type="text/javascript">
        window.playground_copyable = true;
    </script>

    <script src="../../ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../editor.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../mode-rust.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../theme-dawn.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>

    <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>

<script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
<script src="../../book.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JS scripts -->
    <script type="text/javascript" src="../../assets/mermaid/mermaid-913.min.js"></script>
    <script type="text/javascript" src="../../assets/mermaid/mermaid-init.js"></script>
    <script type="text/javascript" src="../../assets/smart-anchor.js"></script>
    <script type="text/javascript" src="../../assets/pagetoc/sidebar.js"></script>
    <script type="text/javascript" src="../../assets/vega/vega-embed@6.20.8"></script>
    <script type="text/javascript" src="../../assets/vega/vega-lite@5.2.0"></script>
    <script type="text/javascript" src="../../assets/vega/vega@5.22.1"></script>
    <script type="text/javascript" src="../../materials/vega/radial-tree.js"></script>

</body>
</html>
