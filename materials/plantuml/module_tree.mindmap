@startmindmap
scale 900 width
skinparam monochrome reverse
skinparam classFontName ttf-wqy-zenhei
*[#lightblue] Rustæ¨¡å—ç³»ç»Ÿ
**[#FFBBCC] ä¸¤ç§è§†è§’
*** ç¨‹åºçŒ¿
**** æ–‡ä»¶ç»“æ„
*** rustcï¼šmodule tree
****:å¯æ‰§è¡Œroot
<code>
src/main.rs
-> binary crate(é»˜è®¤ä¸cargo.toml->[package].nameåŒå)
</code>;
****:åº“root
<code>
src/lib.rs
-> lib crate(é»˜è®¤ä¸cargo.toml->[package].nameåŒå)
</code>;
****:crate
<code>ç¼–è¯‘çš„æœ€å°åŸºæœ¬å•ä½</code>;
**[#FFBBCC] projectçš„äº”ä¸ªå±‚çº§
*** workspace
*** package
*** crates
*** modules
*** paths
**[#FFBBCC] binæ–‡ä»¶å¤¹ï¼šå¯ä»¥ç›´æ¥ä½¿ç”¨src/lib.rs
**[#lightgreen] crates.ioä¿å­˜çš„ä»€ä¹ˆï¼Ÿ
*** å‘å¸ƒæµç¨‹
**** cargo login
****[#lightgreen]:cargo package
<code>
$ cargo help package
ä»å¸®åŠ©ä¿¡æ¯ç»“åˆsubstrateæºç å®éªŒğŸ§ªå¯çŸ¥ï¼š
1. ä»å½“å‰ç›®å½•å¼€å§‹æ‰§è¡Œè·¯å¾„å¼€å§‹ï¼Œé¦–å…ˆå»çˆ¶æ–‡ä»¶å¤¹æ‰¾Cargo.toml,
ç„¶åæ‰¾å½“å‰ç›®å½•çš„Cargo.tomlï¼Œæ‰¾ä¸åˆ°å°±æŠ¥é”™
2. æ‰¾åˆ°çš„Cargo.tomlå¦‚æœæœ‰workspaceé…ç½®ï¼Œ
å°±æŒ‰ç…§workspaceé‡Œé¢çš„subpackageé¡ºåºæ¥ä¾æ¬¡æ‰“åŒ…
3. æ¯æ¬¡æ‰“åŒ…çš„æ ‡å¿—ä¸ºsrc/main.rsæˆ–è€…src/lib.rs,
ä¸”srcåŒçº§å­˜åœ¨Cargo.toml,Cargo.tomlé‡Œé¢æœ‰[package]
4. å¼€å§‹æ‰“åŒ…ä¸ºä¸Šä¼ åˆ°crate.ioçš„æ ¼å¼
5. ä¾æ¬¡æ‰“åŒ…
6. æ‰€æœ‰ä¾èµ–å¿…é¡»æ˜¯åœ¨crate.ioå¯ä»¥æ‰¾åˆ°çš„ï¼Œæ‰¾ä¸åˆ°å°±æŠ¥é”™
7. ä»¥åŒ…å«Cargo.tomlçˆ¶æ–‡ä»¶å¤¹ä¸ºé¡¹ç›®æ ¹ç›®å½•ï¼Œ
æ”¾åœ¨target/packageé‡Œé¢
</code>;
**** cargo publish
**** cargo yank
**** cargo owner
***[#lightgreen]:crate.ioåŒ…å«ä»£ç æ€»ç»“
<code>
1. åªåŒ…å«æœ€å°crateå†…å®¹ï¼Œä¹Ÿå°±æ˜¯src/main.rsæˆ–è€…src/lib.rs + Cargo.toml
2. ruståªèƒ½å…è®¸ä¸€çº§åµŒå¥—ï¼Œä½¿ç”¨workspaceåˆ†å‡ºsubpackage
</code>;
@endmindmap